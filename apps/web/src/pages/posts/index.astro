---
import { createClient } from '@acme/cms-client';
import Layout from '../../layouts/Layout.astro';
import Card from '../../components/Card.astro';

const client = createClient();
const posts = await client.posts.getAll();
---

<Layout title="Posts">
	<main>
		<h1>Latest posts</h1>
		{posts.map((post) => (
      <Card
        title={post.title}
        body={post.content}
        href={`/posts/${post.slug}`}
      />
    ))}
	</main>
</Layout>
